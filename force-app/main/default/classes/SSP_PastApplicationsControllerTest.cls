@isTest
public class SSP_PastApplicationsControllerTest implements HttpCalloutMock {

    public HTTPResponse respond(HTTPRequest req) {
        // Create a test response
        HttpResponse res = new HttpResponse();
        res.setHeader('Content-Type', 'application/json');
        res.setBody('{    "AckResponse":null,    "Payload":{       "PastApplications":[          {             "IsDMSAnnuitiesBeneficiary":null,             "DeclrtnfAnnuitiesAcceptanceCode":null,             "IsRegisteredToVote":"N",             "IsApplicantAgreeToWorkRegister":null,             "IsRenewalConsent":"Y",             "IsAgreeingToLTCResourceTransferConsent":null,             "IsAgreeingToMedicaidPenalty":null,             "CaseStatusCode":"AP",             "DMSId":"65DC063A-53C0-FE59-455C-39F5FE0E8200",             "ProgramAppliedFor":"MA;SN",             "ApplicationReceivedDate":"2020-06-25",             "ApplicationNumber":600003526,             "CaseNumber":112300047,             "IndividualId":360797376          },          {             "IsDMSAnnuitiesBeneficiary":null,             "DeclrtnfAnnuitiesAcceptanceCode":null,             "IsRegisteredToVote":"N",             "IsApplicantAgreeToWorkRegister":null,             "IsRenewalConsent":"Y",             "IsAgreeingToLTCResourceTransferConsent":null,             "IsAgreeingToMedicaidPenalty":null,             "CaseStatusCode":"AP",             "DMSId":"EE9B4C95-FC54-62E1-BCE2-39F612088639",             "ProgramAppliedFor":"KT",             "ApplicationReceivedDate":"2020-06-29",             "ApplicationNumber":600003626,             "CaseNumber":112300047,             "IndividualId":360797376          },          {             "IsDMSAnnuitiesBeneficiary":null,             "DeclrtnfAnnuitiesAcceptanceCode":null,             "IsRegisteredToVote":"N",             "IsApplicantAgreeToWorkRegister":null,             "IsRenewalConsent":"Y",             "IsAgreeingToLTCResourceTransferConsent":null,             "IsAgreeingToMedicaidPenalty":null,             "CaseStatusCode":"AP",             "DMSId":"0C86467E-CD41-27A6-3A39-39F6266F49AB",             "ProgramAppliedFor":"CC",             "ApplicationReceivedDate":"2020-07-03",             "ApplicationNumber":600003882,             "CaseNumber":112300047,             "IndividualId":360797376          },          {             "IsDMSAnnuitiesBeneficiary":null,             "DeclrtnfAnnuitiesAcceptanceCode":null,             "IsRegisteredToVote":"N",             "IsApplicantAgreeToWorkRegister":null,             "IsRenewalConsent":"Y",             "IsAgreeingToLTCResourceTransferConsent":null,             "IsAgreeingToMedicaidPenalty":null,             "CaseStatusCode":"AP",             "DMSId":null,             "ProgramAppliedFor":"KT",             "ApplicationReceivedDate":"2020-07-08",             "ApplicationNumber":600004071,             "CaseNumber":112300047,             "IndividualId":360797376          },          {             "IsDMSAnnuitiesBeneficiary":null,             "DeclrtnfAnnuitiesAcceptanceCode":null,             "IsRegisteredToVote":"N",             "IsApplicantAgreeToWorkRegister":null,             "IsRenewalConsent":"Y",             "IsAgreeingToLTCResourceTransferConsent":null,             "IsAgreeingToMedicaidPenalty":null,             "CaseStatusCode":"AP",             "DMSId":null,             "ProgramAppliedFor":"KT",             "ApplicationReceivedDate":"2020-07-14",             "ApplicationNumber":600004353,             "CaseNumber":112300047,             "IndividualId":360797376          },          {             "IsDMSAnnuitiesBeneficiary":null,             "DeclrtnfAnnuitiesAcceptanceCode":null,             "IsRegisteredToVote":"N",             "IsApplicantAgreeToWorkRegister":null,             "IsRenewalConsent":"Y",             "IsAgreeingToLTCResourceTransferConsent":null,             "IsAgreeingToMedicaidPenalty":null,             "CaseStatusCode":"AP",             "DMSId":null,             "ProgramAppliedFor":"KT",             "ApplicationReceivedDate":"2020-07-15",             "ApplicationNumber":600004374,             "CaseNumber":112300047,             "IndividualId":360797376          },          {             "IsDMSAnnuitiesBeneficiary":null,             "DeclrtnfAnnuitiesAcceptanceCode":null,             "IsRegisteredToVote":"N",             "IsApplicantAgreeToWorkRegister":null,             "IsRenewalConsent":"Y",             "IsAgreeingToLTCResourceTransferConsent":null,             "IsAgreeingToMedicaidPenalty":null,             "CaseStatusCode":"AP",             "DMSId":null,             "ProgramAppliedFor":"KT",             "ApplicationReceivedDate":"2020-07-15",             "ApplicationNumber":600004378,             "CaseNumber":112300047,             "IndividualId":360797376          },          {             "IsDMSAnnuitiesBeneficiary":null,             "DeclrtnfAnnuitiesAcceptanceCode":null,             "IsRegisteredToVote":"N",             "IsApplicantAgreeToWorkRegister":null,             "IsRenewalConsent":"Y",             "IsAgreeingToLTCResourceTransferConsent":null,             "IsAgreeingToMedicaidPenalty":null,             "CaseStatusCode":"AP",             "DMSId":null,             "ProgramAppliedFor":"KT",             "ApplicationReceivedDate":"2020-07-15",             "ApplicationNumber":600004380,             "CaseNumber":112300047,             "IndividualId":360797376          },          {             "IsDMSAnnuitiesBeneficiary":null,             "DeclrtnfAnnuitiesAcceptanceCode":null,             "IsRegisteredToVote":"N",             "IsApplicantAgreeToWorkRegister":null,             "IsRenewalConsent":"Y",             "IsAgreeingToLTCResourceTransferConsent":null,             "IsAgreeingToMedicaidPenalty":null,             "CaseStatusCode":"AP",             "DMSId":null,             "ProgramAppliedFor":"KT",             "ApplicationReceivedDate":"2020-07-15",             "ApplicationNumber":600004387,             "CaseNumber":112300047,             "IndividualId":360797376          },          {             "IsDMSAnnuitiesBeneficiary":null,             "DeclrtnfAnnuitiesAcceptanceCode":null,             "IsRegisteredToVote":"N",             "IsApplicantAgreeToWorkRegister":null,             "IsRenewalConsent":"Y",             "IsAgreeingToLTCResourceTransferConsent":null,             "IsAgreeingToMedicaidPenalty":null,             "CaseStatusCode":"AP",             "DMSId":null,             "ProgramAppliedFor":"KT",             "ApplicationReceivedDate":"2020-07-15",             "ApplicationNumber":600004391,             "CaseNumber":112300047,             "IndividualId":360797376          },          {             "IsDMSAnnuitiesBeneficiary":null,             "DeclrtnfAnnuitiesAcceptanceCode":null,             "IsRegisteredToVote":"N",             "IsApplicantAgreeToWorkRegister":null,             "IsRenewalConsent":"Y",             "IsAgreeingToLTCResourceTransferConsent":null,             "IsAgreeingToMedicaidPenalty":null,             "CaseStatusCode":"AP",             "DMSId":null,             "ProgramAppliedFor":"KT",             "ApplicationReceivedDate":"2020-07-15",             "ApplicationNumber":600004397,             "CaseNumber":112300047,             "IndividualId":360797376          }       ]    },    "role":"",    "miscelleanousParameter":"",    "applicationID":"",    "mode":"",    "programCode":"",    "individualIds":"",    "primaryApplicantIndividualId":"360797376",    "caseNumber":"0",    "viewName":"PastApplications" } ');
        res.setStatusCode(200);
        system.debug('## mock getting called');
        return res;
    }

    @isTest
    public static void testfetchPastApplications() {
        
        String individualId = '8973647';
        Test.setMock(HttpCalloutMock.class, new SSP_PastApplicationsControllerTest());
        Test.startTest();
        SSP_LightningResponse response = SSP_PastApplicationsController.fetchPastApplications();
        system.assertNotEquals(null, response);
       Test.stopTest();
    }
    
}