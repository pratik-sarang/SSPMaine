<!--
* name 		    : SspAuthRepAccessRequest
* @description 	: The component is used for AuthRepAccessRequest.
* @author 		: Kyathi
* @date 		: 5/20/2020
* MODIFICATION LOG:
* DEVELOPER                     DATE                               DESCRIPTION
* ---------------------------------------------------------------------------------------------
* Kyathi	                     5/20/2020	                        HTML Structure
-->
<template>
  <template if:true={showSpinner}>
    <c-ssp-spinner></c-ssp-spinner>
  </template>
  <template if:true={showErrorToast}>
    <c-ssp-toast
      ssp-toast-title-val={label.toastErrorText}
      onhidetoast={handleHideToast}
      show-error-toast={trueValue}
    >
    </c-ssp-toast>
  </template>

  <c-ssp-logging-and-error-handling-modal
    if:true={showErrorModal}
    error-id=""
    onprogressvaluechange={closeError}
  >
  </c-ssp-logging-and-error-handling-modal>
  <main class="ssp-authRepAccessRequest" if:false={showNextStepScreen}>
    <div
      class="ssp-bg_appHeaderGradient slds-p-vertical_medium ssp-reps-header"
    >
      <span class="ssp-fontFamily_popinBold ssp-color_monoBody ssp-reps-text"
        >{label.sspRequestAccess}</span
      >
    </div>

    <div
      class="slds-m-vertical_large ssp-add-auth-rep-program ssp-bodyContainer"
    >
      <div class="ssp-add-auth-rep-program-header">
        <h1
          class="ssp-add-auth-rep-program-header-text ssp-fontFamily_popinBlack ssp-color_blueAlpha"
        >
          {label.sspAddAuthReps}
        </h1>
      </div>
      <p class="ssp-sectionSeperator ssp-bg_monoBeta slds-m-top_x-large"></p>
      <div class="slds-grid slds-wrap ssp-auth-rep-program-form">
        <!--<c-ssp-warning-notice-card class="slds-p-bottom_medium">
                    <p>{label.sspAddAuthRepsInfo1}</p>
                </c-ssp-warning-notice-card>-->
        <p
          class="ssp-auth-rep-program-info ssp-firstInfo ssp-fontFamily_ArvoRegular ssp-color_monoOmega ssp-auth-rep-enter-info"
        >
          {label.sspAddAuthRepsInfo2}
        </p>
        <div class="slds-grid slds-wrap slds-size_1-of-1">
          <c-ssp-base-component-input-text
            class="ssp-inputElement ssp-applicationInputs ssp-applicationDuplicateInputs slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-gutter-right"
            label={label.sspFirstName}
            data-id="FirstName"
            entity-name="Contact"
            field-name="FirstName"
            meta-list={metaDataListParent}
            max-length="50"
          >
          </c-ssp-base-component-input-text>
          <div
            class="slds-grid slds-wrap slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-gutter-left"
          >
            <c-ssp-base-component-input-text
              class="ssp-inputElement ssp-applicationInputs ssp-applicationDuplicateInputs slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-common-margin-top"
              label={label.sspMiOptional}
              data-id="MiddleName"
              entity-name="Contact"
              field-name="MiddleName"
              meta-list={metaDataListParent}
              max-length={label.sspMiddleInitialMaxLength}
            >
            </c-ssp-base-component-input-text>
          </div>
        </div>
        <div class="slds-grid slds-wrap slds-size_1-of-1">
          <c-ssp-base-component-input-text
            class="ssp-inputElement ssp-applicationInputs ssp-applicationDuplicateInputs slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-gutter-right"
            label={label.sspLastName}
            data-id="LastName"
            entity-name="Contact"
            field-name="LastName"
            meta-list={metaDataListParent}
            max-length="50"
          >
          </c-ssp-base-component-input-text>
          <div
            class="slds-grid slds-wrap slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-gutter-left"
          >
            <c-ssp-base-component-input-picklist
              class="ssp-inputElement ssp-applicationInputs slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-common-margin-top"
              label={label.sspSuffix}
              title={label.sspSuffixTitle}
              option={suffixOptions}
              data-id="SuffixCode__c"
              entity-name="Contact"
              field-name="SuffixCode__c"
              meta-list={metaDataListParent}
            >
            </c-ssp-base-component-input-picklist>
          </div>
        </div>
        <div class="slds-grid slds-wrap slds-size_1-of-1">
          <div
            class="slds-grid slds-wrap slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-gutter-right "
          >
            <c-ssp-base-component-input-picklist
              class="ssp-inputElement ssp-applicationInputs slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-gutter-right"
              label={label.sspGender}
              title={label.sspGenderTitle}
              data-id="GenderCode__c"
              entity-name="Contact"
              field-name="GenderCode__c"
              meta-list={metaDataListParent}
              option={genderOptions}
              selected-value=""
              value=""
              onchange={handleGenderChange}
              onhandlepicklistchange={handleGenderChange}
            >
            </c-ssp-base-component-input-picklist>
            <c-ssp-base-component-input-date
              class="ssp-inputElement ssp-applicationInputs slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-gutter-left ssp-common-margin-top"
              label={label.sspDateOfBirth}
              value=""
              data-id="Birthdate"
              entity-name="Contact"
              field-name="Birthdate"
              meta-list={metaDataListParent}
              onchange={handleBirthDateChange}
            >
            </c-ssp-base-component-input-date>
          </div>
        </div>

        <div class="slds-grid slds-wrap slds-size_1-of-1">
          <c-ssp-base-component-input-text
            class="ssp-inputElement ssp-applicationInputs slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-gutter-right"
            label={label.sspSSN}
            data-id="SSN__c"
            entity-name="Contact"
            field-name="SSN__c"
            input-type={inputTypePassword}
            class-name="ssn-addPasswordMark"
            meta-list={metaDataListParent}
            is-assister-or-auth="true"
          >
          </c-ssp-base-component-input-text>
        </div>
        <div
          class="slds-grid slds-wrap slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-textBox-right ssp-agency-management ssp-gutter-right ssp-clientSearchContent"
        >
          <div class="ssp-radioButtonContainer">
            <label class="ssp-label-name" for="ssp-appNumber"
              >{label.sspSearchApplicationNumber}</label
            >
            <input
              type="radio"
              name="radio"
              class="ssp-multilineRadioInput"
              value="Application Number"
              onclick={handleRadioClick}
              id="ssp-appNumber"
            />
            <span class="ssp-multilineRadioChecked"></span>
          </div>
          <!-- Added value applicationNo #382177 -->
          <!-- <c-ssp-base-component-input-number
            class="ssp-inputElement ssp-applicationInputs slds-size_1-of-1 ssp-application-number"
            field-name="applicationNumber"
            disabled={isAppNumberDisabled}
            onchange={handleAppNumberChange}
            hide-label="true"
            label={label.sspSearchApplicationNumber}
            value={applicationNo}
          >
          </c-ssp-base-component-input-number> -->
          <c-ssp-base-component-input-phone
            class="ssp-inputElement ssp-applicationInputs slds-size_1-of-1 ssp-application-number ssp-case-number ssp-offAutoFill"
            name="clientSearchApplicationNumber"
            disabled={isAppNumberDisabled}
            onchange={handleAppNumberChange}
            case-application-field="true"
            max-length="9"
            entity-name=""
            field-name="applicationNumber"
            hide-label="true"
            value={applicationNo}
          >
          </c-ssp-base-component-input-phone>
        </div>
        <div
          class="slds-grid slds-wrap slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-textBox-left ssp-agency-management ssp-gutter-left ssp-clientSearchContent"
        >
          <div class="ssp-radioButtonContainer">
            <label class="ssp-label-name" for="ssp-caseNumber"
              >{label.sspSearchCaseNumber}</label
            >
            <input
              type="radio"
              name="radio"
              value="Case Number"
              class="ssp-multilineRadioInput"
              onclick={handleRadioClick}
              id="ssp-caseNumber"
            />
            <span class="ssp-multilineRadioChecked"></span>
          </div>
          <!-- <c-ssp-base-component-input-number
            class="ssp-inputElement ssp-applicationInputs slds-size_1-of-1 ssp-case-number"
            field-name="caseNumber"
            onchange={handleCaseNumberChange}
            disabled={isCaseNumberDisabled}
            hide-label="true"
            label={label.sspSearchApplicationNumber}
          >
          </c-ssp-base-component-input-number> -->
          <c-ssp-base-component-input-phone
            class="ssp-inputElement ssp-applicationInputs slds-size_1-of-1 ssp-case-number"
            name="caseNumber"
            disabled={isCaseNumberDisabled}
            onchange={handleCaseNumberChange}
            case-application-field="true"
            max-length="9"
            entity-name=""
            field-name="caseNumber"
            hide-label="true"
          >
          </c-ssp-base-component-input-phone>
        </div>

        <div
          class="slds-grid slds-wrap slds-size_1-of-1 slds-p-top_x-large slds-p-bottom_x-large ssp-align-center ssp-uploadProofForms ssp-resourceSummary_container"
        >
          <lightning-button
            class="ssp-actionButtons ssp-button_neutral slds-max-medium-size_1-of-1 slds-size_1-of-1 ssp-search-btn ssp-addResourceButton ssp-gutter-right"
            label={label.sspSearchAuthRep}
            title={label.sspSearchBasedOnTheEnteredCriteria}
            onclick={searchIndividualClick}
          ></lightning-button>
        </div>
        <div if:true={isToShow} class="slds-grid slds-wrap slds-size_1-of-1">
          <c-ssp-base-component-input-picklist
            class="ssp-applicationInputElement ssp-applicationInputs ssp-existing slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-gutter-right"
            label={sspAuthRepRelationshipText}
            title={label.sspClickHereToSeeOptionsForRelationships}
            option={representativeRelationshipCodes}
            value=""
            data-id="RepresentativeRelationshipCode__c"
            entity-name="AccountContactRelation"
            field-name="RepresentativeRelationshipCode__c"
            meta-list={metaDataListParent}
          >
          </c-ssp-base-component-input-picklist>
        </div>
        <div if:true={isToShow} class="slds-grid slds-wrap slds-size_1-of-1">
          <c-ssp-address-auto-complete
            class="addressLineClass slds-size_1-of-1"
            record={addressRecord}
            field-map={fieldMap}
            meta-list={metaDataListParent}
            disabled={disableAddress}
          >
          </c-ssp-address-auto-complete>
        </div>
        <p
          if:true={isToShow}
          class="ssp-auth-rep-program-info ssp-fontFamily_ArvoRegular ssp-color_monoOmega"
        >
          {label.sspIndicateAccessLevel}
        </p>
        <!--<div
                    if:true={isToShow}
                    class="slds-grid slds-wrap slds-max-medium-size_1-of-1 slds-size_1-of-2 ssp-gutter-right"
                >
                    <c-ssp-base-component-input-picklist
                        class="ssp-applicationInputElement ssp-applicationInputs ssp-common-margin-top"
                        label={label.sspAuthRepCaseAccess}
                        title={label.sspClickHereToSeeYourCases}
                        data-id="RepresentativeRelationshipCode__c"
                        entity-name="AccountContactRelation"
                        field-name="RepresentativeRelationshipCode__c"
                        meta-list={metaDataListParent}
                    >
                    </c-ssp-base-component-input-picklist>
                </div>-->
        <div if:true={isToShow} class="ssp-program-selection">
          <p
            class="ssp-fontFamily_popinBold ssp-color_monoBody slds-m-bottom_medium ssp-toggleFieldLabel"
          >
            {label.sspWhichProgramDoYouWant}
          </p>
          <template for:each={programPermissionList} for:item="program">
            <div
              class="ssp-programs"
              key={program.programName}
              onchange={handleHideError}
            >
              <c-ssp-add-auth-rep-program-details
                checkbox-label={program.programName}
                radio-options={program.permissionLevel}
                class="ssp-programApplicationInputs"
                program-name={program.programId}
                program-checkbox={program.selected}
                selected-permission={program.permission}
              ></c-ssp-add-auth-rep-program-details>
            </div>
          </template>
          <template if:true={showError}>
            <p
              key={error}
              class="slds-size_1-of-1 ssp-show-error ssp-color_redOmega"
            >
              {label.sspPleaseSelectAtLeastOneProgram}
            </p>
          </template>
        </div>
      </div>
      <div
        class="slds-grid slds-wrap slds-grid_align-center slds-m-bottom_xx-large ssp-navFlowFooter ssp-uploadProofForms"
      >
        <div
          class="slds-grid ssp-footerBtnBackSave slds-size_1-of-2 slds-small-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2 ssp-actionButtons"
        >
          <div class="slds-col ssp-firstGroupBtn">
            <lightning-button
              label={label.sspBack}
              class="ssp-button_base"
              onclick={backJs}
              title={label.sspReturnPreviousScreen}
            >
            </lightning-button>
          </div>
        </div>
        <div
          class="slds-col ssp-footerBtnNext slds-text-align_right slds-size_1-of-2 slds-small-size_1-of-1 slds-medium-size_1-of-2 slds-large-size_1-of-2"
        >
          <div
            class="slds-show_inline-block"
            title={label.sspContinueToNextScreenToEnterFurtherDetails}
          >
            <lightning-button
              label={label.sspRequestAccess}
              onclick={requestAccessClick}
              variant="netural"
              class="dd-slds-nav_btn-next ssp-button_neutral"
              title={label.sspContinueToNextScreenToEnterFurtherDetails}
              disabled={disabledRequestAccess}
            ></lightning-button>
          </div>
        </div>
      </div>
    </div>
  </main>
  <template if:true={showNextStepScreen}>
    <c-ssp-auth-rep-next-step-updates
      auth-full-match-sent-notification={authFullMatchSentNotification}
      client-no-communication-pref={clientNoCommunicationPref}
      any-program-no-communication-pref={anyProgramNoCommunicationPref}
      auth-request-non-medicaid-access={authRequestNonMedicaidAccess}
      auth-request-partial-match={authRequestPartialMatch}
      auth-no-match-sent-notification={authNoMatchSentNotification}
      no-case-match={noCaseMatch}
      auth-assister-have-access={authAssisterHaveAccess}
      access-pending-request={accessPendingRequest}
    ></c-ssp-auth-rep-next-step-updates>
  </template>
</template>
